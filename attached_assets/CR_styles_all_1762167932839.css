:root{
  --accent:#0b5ed7;
  --muted:#666;
  --border:#bbb;
  --bg:#fff;
  --locked:#f5f7fa; /* non-admin locked bg */
}

/* base */
*{box-sizing:border-box;font-family:Arial, Helvetica, sans-serif}
body{margin:16px;background:#f4f6f8;color:#111}
.container{max-width:2400px;margin:0 auto;background:var(--bg);padding:18px;border:1px solid #ddd}
.top{display:flex;justify-content:space-between;align-items:flex-start;border-bottom:2px solid #ddd;padding-bottom:10px;margin-bottom:12px}
.brand h1{margin:0;font-size:16px;letter-spacing:0.6px}
.brand h2{margin:2px 0 0;font-size:12px;color:var(--muted)}
.meta{display:flex;flex-direction:column;gap:6px;text-align:right}
.meta-box{display:inline-block;padding:6px 10px;border:1px solid var(--border);background:#fafafa;margin-left:6px}

/* doc info */
.doc-info{display:flex;justify-content:flex-start;padding:8px 0}
.doc-info .left{width:100%}
.doc-info label{font-weight:600;margin-right:6px}

/* One-line fields grid */
.fields-grid{
  display:grid;
  grid-template-columns:
    max-content 320px   /* Customer label + dropdown */
    max-content 220px   /* BID label + input */
    max-content 220px   /* PO label + input */
    max-content 220px;  /* CR label + input */
  gap:8px 12px;
  align-items:center;
  white-space:nowrap; /* keep labels on one line */
}
.field-select,
.field-input{
  padding:6px 10px;
  border:1px solid var(--border);
  background:#fff;
  border-radius:2px;
  min-height:32px;
}
/* Disabled header fields for non-admin (JS sets disabled) */
.field-select:disabled,
.field-input:disabled{
  background:var(--locked);
  color:#6b7280;
  cursor:not-allowed;
}

/* actions above table */
.table-actions{display:flex;align-items:center;gap:10px;margin:8px 0;flex-wrap:wrap}
.table-actions button{padding:6px 10px}

/* table */
.table-wrap{overflow:auto;margin-top:6px;border:1px solid var(--border);background:#fff}
table{border-collapse:collapse;width:100%;min-width:3000px}
th,td{border:1px solid var(--border);padding:6px;font-size:12px;vertical-align:middle}
th{background:#f2f4f7;font-weight:700;text-align:center}
.group{background:#e9eefb}
.narrow{width:68px}
.fixed{width:60px;text-align:center}
.small{width:60px}
.editable{min-width:140px;outline:none}
.bordered{border:1px solid #d0d7de;padding:4px;background:#fff;border-radius:2px}
.cycle{cursor:pointer;text-align:center;user-select:none;background:#fff;min-width:36px}
.cycle:hover{background:#f8f9fc}
.cycle.state-yes{color:green;font-weight:700}
.cycle.state-no{color:#c42b2b;font-weight:700}
.cycle.state-na{color:#666;font-weight:700}

/* Non-admin lock visuals (enforced by JS) */
.locked-edit{
  background:var(--locked) !important;
  cursor:not-allowed !important;
  opacity:0.9;
  -webkit-user-select:none; user-select:none;
}
td.cycle.locked{
  pointer-events:none !important;
  opacity:0.5 !important;
}

.actions-col{width:90px}
.row-actions{padding:6px;text-align:center}
.row-actions .del-row{padding:4px 8px;border:1px solid #d0d7de;background:#fff;border-radius:3px;cursor:pointer}
.row-actions .del-row:hover{background:#f8f8f8}

/* Signature board (department headers with signature line + name row) */
.sign-board-wrap{margin-top:16px}
.sign-board{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
  min-width:1200px; /* keeps columns readable on smaller screens */
}
.sign-board th,
.sign-board td{
  border:1px solid var(--border);
  padding:6px;
  vertical-align:top;
  font-size:12px;
}
.sign-board th{
  background:#f2f4f7;
  text-align:center;
  font-weight:700;
}
.sign-board .sig-row td{height:40px}
.sign-board .sig-line{
  height:28px;
  border-bottom:1px solid #000;
  margin:6px 0 0;
}
.sign-board .name-row td{padding-top:4px}
.sign-board .name-label{
  font-weight:600;
  color:#333;
  font-size:11px;
  margin-bottom:2px;
}
.sign-board .sig-name{
  font-size:12px;
  color:#333;
}

/* hide legacy single-row signature block (if still present in DOM) */
.sign-block{display:none}

/* Amendment */
.amend{margin-top:12px;font-size:12px}
.note{padding:8px;border:1px dashed #ccc;background:#fbfbfb;min-height:60px}

/* focus styles for contenteditable */
[contenteditable].bordered:focus{box-shadow:inset 0 0 0 2px rgba(11,94,215,0.06);outline:none}

/* responsive */
@media (max-width: 1200px){
  /* allow wrapping on smaller screens while keeping alignment */
  .fields-grid{
    grid-template-columns:
      max-content minmax(220px, 1fr)
      max-content minmax(200px, 1fr)
      max-content minmax(200px, 1fr)
      max-content minmax(200px, 1fr);
  }
}

/* print */
@media print{
  body{background:#fff}
  .container{border:0;box-shadow:none;padding:0}
  table{page-break-after:auto}
  tr{page-break-inside:avoid;page-break-after:auto}
  .sign-board{page-break-inside:avoid}
}